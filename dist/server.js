"use strict";var express=require("express"),cors=require("cors"),helmet=require("helmet"),morgan=require("morgan"),dotenv=require("dotenv");const demo=(e,r)=>{r.json({status:"ok 2023"})},env=(dotenv.config(),e=>{var r;return null==(r=process.env)?void 0:r[e]}),PORT=(env("PORT")||process.exit(1),+env("PORT")),app=express();app.use(morgan("combined")),app.use(helmet({contentSecurityPolicy:!1,frameguard:!1,crossOriginEmbedderPolicy:!1,crossOriginOpenerPolicy:!1,crossOriginResourcePolicy:!1})),app.use(cors({origin:"*"})),app.use(express.json()),app.use(express.static("dist")),app.use("/",[demo]),app.get("*",(e,r)=>{r.sendFile("dist/index.html",{root:"./"})}),app.listen(PORT,()=>{console.log(`Server started on port ${PORT}: http://localhost:`+PORT)}).on("error",e=>{console.log("ERROR: ",e)}),exports.app=app;
